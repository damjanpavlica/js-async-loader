<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS Async Loader</title>
</head>
<body>

    <header>
        <script>
            /* ASYNC JS LOADER FUNCTIONS */
            function loadAsync(lib, libs, callback) {
                var http = new XMLHttpRequest();
                http.open("GET", libs[lib].url, true);
                http.onload = function () {
                    libs[lib].content = http.responseText;
                    startScripts(libs, callback);
                };
                http.send();
            } // loadAsync

            function startScripts(libs, callback) {
                var allLoaded = true;
                for (var lib in libs) {
                    allLoaded = allLoaded && Boolean(libs[lib].content);
                }
                if (allLoaded) {
                    for (lib in libs) {
                        eval(libs[lib].content);
                    }
                    if(callback) callback();
                }
            } // startScripts
        </script>
    </header>


    <footer>
        <script>
            // jquery files are independent from angular files
            var jqueryLibs = {
                "jquery": {
            		url: "https://code.jquery.com/jquery-2.1.4.min.js",
            		content: null
            	},
            	"bxSlider": {
            		url: "https://cdnjs.cloudflare.com/ajax/libs/bxslider/4.2.5/jquery.bxslider.min.js",
            		content: null
            	}
            };

            // angular files are independent from jquery files
            var angularLibs = {
                "angular": {
            		url: "https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0-beta.2/angular.min.js",
            		content: null
            	},
            	"ngAnimate": {
            		url: "https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-beta.2/angular-animate.min.js",
            		content: null
            	}
            };

            // load both libs asynchronously
            for (var lib in jqueryLibs) {
                loadAsync(lib, jqueryLibs, null); // no callback
            }

            for (var lib in angularLibs) {
                loadAsync(lib, angularLibs, startAngular);  // callback
            }

            function startAngular() {
                //angular.bootstrap(document, ["myApp"]); // start angular app when loaded
                console.log("Starting Angular app...")
            }
        </script>
    </footer>

</body>
</html>
